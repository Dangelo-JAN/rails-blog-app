<h1>This is the users/show view</h1>

<div>
  <%= link_to "Edit account", edit_user_registration_path %>
  <%= link_to "Logout", destroy_user_session_path %>  
</div>


<div class="user-card">
  <div class="photo-container">
    <img src="<%= @user.photo%>" alt="User photo">
  </div>
  <div class="user-info">
    <h2 class="user-name"><%= @user.name %></h2>
    <p class="posts-counter">Number of posts: <%= @user.posts_counter %></p>
  </div>
</div>

<div class="bio-container">
  <h2>Bio</h2>
  <p class="bio"><%= @user.bio %></p>
</div>

<ul>
  <% @user.last_3_posts.each do |post| %>
    <%= link_to user_post_path(@user.id, post.id), {:class => "link-class"} do%>
      <li>
        <div class="post-container">
          <h2 class="post-title">Post <%= post.title %></h2>
          <p class="post"><%= post.text %></p>
          <div class="comments-likes">
            <p class="counters">Comments <%= post.comments_counter %>, Likes <%= post.likes_counter %></p>
          </div> 
        </div>
      </li>
      <% if can? :destroy, @post %>
        <%= button_to "Delete", user_post_path(@user), :method => :delete, class: "delete-button" %>
      <% end %>
    <% end %>
  <% end %>
</ul>

<div class="see-posts">
  <button class="button">
    <%= link_to "See all posts", user_posts_path(@user), {:class => "pointer-class"} %>
  </button>
</div>

<div class="button-container">
  <button class="button new-post">
    <%= link_to "New post", new_user_post_path(@user), {:class => "link-class"} %>
  </button>
</div>
